<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Создание собственной викторины</title>
</head>
<body>
<h1>Создание викторины</h1>

<form th:action="@{/quizzes/create}" method="post">

  <!-- Основные поля викторины -->
  <div>
    <label>Название:</label>
    <input type="text" name="title" required>
  </div>

  <div>
    <label>Описание:</label>
    <textarea name="description"></textarea>
  </div>

  <div>
    <label>
      <input type="checkbox" name="public" value="true" checked>
      Публичная викторина
    </label>
  </div>

  <!-- Вопросы -->
  <div th:each="question, stat : ${quizDto.question}">
    <hr>
    <h2>Вопрос [[${stat.index + 1}]]</h2>

    <div>
      <label>Текст вопроса:</label>
      <input type="text" th:name="|question[${stat.index}].text|" required>
    </div>

    <div>
      <label>Вариант 1:</label>
      <input type="text" th:name="|question[${stat.index}].firstOption|" required>
    </div>

    <div>
      <label>Вариант 2:</label>
      <input type="text" th:name="|question[${stat.index}].secondOption|" required>
    </div>

    <div>
      <label>Вариант 3:</label>
      <input type="text" th:name="|question[${stat.index}].thirdOption|" required>
    </div>

    <div>
      <label>Вариант 4:</label>
      <input type="text" th:name="|question[${stat.index}].fourthOption|" required>
    </div>

    <div>
      <label>Правильный ответ:</label>
      <select th:name="|question[${stat.index}].correctAnswerIndex|" required>
        <option value="0">Вариант 1</option>
        <option value="1">Вариант 2</option>
        <option value="2">Вариант 3</option>
        <option value="3">Вариант 4</option>
      </select>
    </div>

    <div>
      <label>Время (сек):</label>
      <input type="number" th:name="|question[${stat.index}].timeLimitSeconds|" value="30" min="5" max="300">
    </div>
  </div>

  <hr>
  <button type="submit">Создать викторину</button>

</form>

<div style="display: none;">
  <h3>Отладка DTO:</h3>
  <p th:text="'Title: ' + ${quizDto?.title}"></p>
  <p th:text="'Questions count: ' + ${quizDto?.question?.size()}"></p>
</div>

</body>
</html>